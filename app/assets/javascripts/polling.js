// Generated by CoffeeScript 1.6.3
window.Poller = {
  poll: function(timeout) {
    if (timeout === 0) {
      return Poller.request();
    } else {
      return this.pollTimeout = setTimeout(function() {
        return Poller.request();
      }, timeout || 5000);
    }
  },
  clear: function() {
    return clearTimeout(this.pollTimeout);
  },
  request: function() {
    var first_id;
    first_id = $('.comment').first().data('id');
    return $.get('/comments', {
      after_id: first_id
    });
  }
};

jQuery(function() {
  if ($('#comments').size() > 0) {
    Poller.poll();
  }
});
